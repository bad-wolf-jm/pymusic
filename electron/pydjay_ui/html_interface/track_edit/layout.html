<!DOCTYPE html>
<title>PYMUSIC DJ App</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<script src="../../../web-audio/event_dispatcher.js"></script>
<script src="../../../web-audio/audio_context.js"></script>
<script src="../../../web-audio/audio_player.js"></script>
<script src="../../../web-audio/audio_player_base.js"></script>
<script src="../../../web-audio/audio_player_buffer.js"></script>
<script src="../../../web-audio/audio_player_file.js"></script>
<script src="../../../web-audio/mp3_fileinfo.js"></script>

<script src="../../../lib/jui/core/lib/jquery-1.8.0.min.js"></script>
<script src="../../../lib/jui/core/dist/core.min.js"></script>
<script src="../../../lib/jui/ui/dist/ui.min.js"></script>
<script src="../../../lib/jui/grid/dist/grid.min.js"></script>

<script src="../../../lib/moment.min.js"></script>
<script src="../../../lib/Sortable.js"></script>

<script src="../../utils.js"></script>
<script src="../../data.js"></script>

<script src="main_player_view.js"></script>

<body style="margin: 0px; padding:15px">
    <div class="main_player" style="width:calc(100% - 30px)">
            <img id="main-player-track-cover" class="cover" src="test_cover.png" height="200" width="200"></img>
        <div style="float:left; display:block; width:calc(100% - 200px)">
            <div style="display:inline-block; width:100%;">
                <input type="text" class="title" id="main-player-track-title" /> 
                <input type="text" class="artist" id="main-player-track-album" />
                <input type="text" class="artist" id="main-player-track-artist">
            </div>
            <div class="rating">
                    <div id="main-player-rating" class="value"></div>
            </div>
            <div class="rating">
                <div id="main-player-loved" class="value"><i class="fa fa-heart"></i> </div>
            </div>

            <div class="track-info"> 
                <div class="info">
                    <div class="title">start</div> <div id="main-player-track-start" class="value">3:12.345</div>
                </div>
                <div class="info" style="width:75px !important">
                    <div class="title">end</div>
                    <div id="main-player-track-end" class="value">3:12.345</div>
                </div>
                <div class="info" style="width:100px !important">
                    <div class="title">GENRE</div>
                    <input id="main-player-track-genre" class="input"/>
                </div>

                <div class="info" style="width:75px !important">
                    <div class="title">YEAR</div>
                    <input  id="main-player-track-year" class="input"/> 
                </div>

                <div class="info" style="width:50px !important">
                    <div class="title">BPM</div>
                    <input id="main-player-track-bpm" class="input"/>
                </div>
                <div class="info" style="width:75px !important">
                    <div class="title">DURATION</div>
                    <div id="main-player-track-duration" class="value">3:12</div>
                </div>
            </div>
        </div>
    </div>
    <div id="main-player-waveform" class="waveform" style="width:calc(100%) !important;"></div>
    <div style="height:50px; width:100%; display:inline-block; position:relative">
        <button id="play-button" style="float:left; width:50px; height:50px; border-radius:25px; border:1px solid gray; background-color:rgb(35,35,35)"><i class="fa fa-play" style="text-align:center; font-size:12pt"></i></button>
        <div style="float:left; width:50px"><i class="fa fa-search-minus" style="width:50px; text-align:center; line-height:50px; vertical-align:middle; font-size:12pt"></i></div>
        <div style="float:left; width: calc(100% - 150px); height:50px"><input id="slider" type="range" min="1" max="200" value="1"  style="position:absolute; top:50%; transform: translateY(-50%); width: calc(100% - 150px);" /></div>
        <div style="float:left; width:50px"><i class="fa fa-search-plus" style="width:50px; text-align:center; line-height:50px; vertical-align:middle; font-size:12pt"></i></div>
    </div>

    <div style="display:inline-block; width:100%; height:calc(100% - 500px)">
        <div style="float:left; width:calc(30% - 25px); height:100%">
            <h3 style="margin-top:10px; margin-bottom:10px; background-color: rgb(35,35,35); width:100%; height:30px; vertical-align: middle; text-align:center; line-height:30px">PLAYBACK HISTORY</h3>
            <div class="main-track-list-area">
                <table  id="playback-history" class="main-track-list-table" style="width:100%;">
                    <tbody class="list-group"></tbody>
                </table>
                <script data-jui="#playback-history" data-tpl="row" type="text/template">
                    <tr class="list-group-item row track-entry" style="width:100%; margin:0; padding:0; height:30px">
                        <td><!= event_name !></td>
                        <td style="text-align:right"><!= moment(start_time).fromNow()!></td>
                    </tr>
                </script>            
            </div>
        </div>
        <div style="float:left; width:50px; height:100%">&nbsp;</div>
        <div style="float:left; width:calc(70% - 25px); height:100%">
            <h3 style="margin-top:10px; margin-bottom:10px; background-color: rgb(35,35,35); width:100%; height:30px; vertical-align: middle; text-align:center; line-height:30px">RELATED TRACKS</h3>
            <div class="main-track-list-area">
                <table class="main-track-list-table" id="related-elements" style="width:100%">
                    <thead style="border:0px solid transparent; margin:0; padding:0">
                        <tr class="header-row">
                            <th class="sticky-header"><b><i class='fa fa-heart' style='font-size: 12px'/></b></th>
                            <th class="sticky-header">Title</th>
                            <th class="sticky-header">Artist</th>
                            <th class="sticky-header">Genre</th>
                            <th class="sticky-header"><b><span class='fa fa-play'/></b></th>
                            <th class="sticky-header"><b><span class='fa fa-calendar' style='font-size: 15px'/></b></th>
                            <th class="sticky-header">Rating</th>
                            <th class="sticky-header"><b style='font-size: 13px'><span class='fa fa-heartbeat' style='font-size: 15px'/></b></th>
                            <th class="sticky-header" style="text-align:right">Time</th>
                            <th class="sticky-header"></th>
                        </tr>
                    </thead>
                    <tbody class="list-group" style="width:100%;"></tbody>
                </table>
                <script data-jui="#related-elements" data-tpl="row" type="text/template">
                    <tr class="list-group-item row track-entry" style="width:100%; margin:0; padding:0; height:30px" data-track-id=<!= id !>>
                        <td style="width:25px; padding:5px 3px 5px 3px; text-align:center; font-size:8pt"><!= loved !></td>
                        <td style="width:75px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><!= title !></td>
                        <td style="width:75px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><!= artist !></td>
                        <td style="width:50px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"><!= genre !></td>
                        <td style="text-align:right; width:25px; padding-right:9px"><!= play_count !></td>
                        <td style="width:75px"><!= last_played !></td>
                        <td style="width:25px"><!= rating !></td>
                        <td style="width:30px; text-align:right; padding-right:5px"><!= bpm !></td>
                        <td style="width:45px; text-align:right"><!= duration !></td>
                        <td style="width:15px"></td>            
                    </tr>
                </script>
            </div>
        </div>
    </div>
    <div style="width:100%">
        <button class="form-button" style="float:right; border-radius:10px; background-color:rgb(170,35,35)" onclick="closeme()">Cancel</button>
        <button class="form-button" style="float:right; border-radius:10px" onclick="saveme()">Save</button>
    </div>
    <script src="script.js"></script>
</body>
