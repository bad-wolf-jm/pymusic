
const {AudioFilePlayer} = require("./track_player.js")


class RemoteFileplayer extends AudioFilePlayer {
    constructor() {
        super()
        this.on('end-of-stream', () => {
            ipcRenderer.send("master-end-of-stream", {})
        })

        this.on('playback-stopped',  () => {
            ipcRenderer.send("master-playback-stopped", {})
        })
    
        this.on('playback-paused', () => {
            ipcRenderer.send("master-playback-paused", {})
        })
        
        this.on('playback-started', () => {
            ipcRenderer.send("master-playback-started", {})
        })

        this.on('stream-position', (pos) => {
            ipcRenderer.send("master-stream-position", {
                position: pos, 
                duration:this.source.duration})
        })

    }
}

module.exports = {
    RemoteFileplayer: RemoteFileplayer
}