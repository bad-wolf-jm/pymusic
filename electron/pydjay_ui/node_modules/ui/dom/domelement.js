const {EventDispatcher} = require("notify/event_dispatcher.js")

class DOMElement extends EventDispatcher {
    constructor(tag) {
        super()
        this.domElement = document.createElement(tag) 
        this.domElement.id = this._id()       
    }

    _id() {
        return '_' + Math.random().toString(36).substr(2, 9);
    };

    setStyle(style) {
        Object.keys(style).forEach((k) => {
            this.domElement.style[k] = style[k]
        })
    }

    appendChild(x) {
        this.appendChildren([x])
    }

    appendChildren(x) {
        x.forEach((e) => {
            this.domElement.appendChild(e.domElement)
        })
    }
}

module.exports = {
    DOMElement: DOMElement
}