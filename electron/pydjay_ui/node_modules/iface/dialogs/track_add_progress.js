const { DOMElement } = require("ui/dom/domelement.js")
const { Dialog } = require("ui/dialog/dialog.js")

class TrackImportProgressDialog extends Dialog {
    constructor(config) {
        super()
        this.setTitle("Adding tracks...")
        this.setStyle({width:'500px', height:"100px"})

        this._progress = new DOMElement("div")
        this._progress.setStyle({
            width:"100%",
            height:"30px",
            padding:'0',
            marginTop:"10px",
            marginBottom:"0px",
            textAlign:"center",
            color:"rgb(30,30,30)"
        })
        this._current = new DOMElement("div")
        this._current.setStyle({
            width:"100%",
            height:"60px",
            padding:'0',
            marginTop:"0px",
            marginBottom:"5px",
            textAlign:"center",
            color:"rgb(30,30,30)"
        })

        this.appendChildren([this._progress, this._current])
    }

    setProgress(i, total) {
        console.log(i, total)
        this._progress.domElement.innerHTML = `<b>Adding track ${i} of ${total}</b>`
    }

    setCurrent(track) {
        this._current.domElement.innerHTML = `${track.metadata.title} - <i>${track.metadata.artist}</i>`
    }

    async open() {
        super.open()
    }
}

module.exports = {
    TrackImportProgressDialog: TrackImportProgressDialog
}