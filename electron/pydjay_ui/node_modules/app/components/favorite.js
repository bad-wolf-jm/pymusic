const { DOMElement } = require("ui/dom/domelement.js")


class CustomCheckbox extends DOMElement {
    constructor(color) {
        super('div')
        this.setValue(false)
        this.color = color || "rgb(30,30,30)"

    }

    clear() {
        while (this.domElement.firstChild) {
            this.domElement.removeChild(this.domElement.firstChild);
        }
    }

    setValue (v) {
        this.checked = !!v
        this.clear()
        let check = document.createElement("i")
        check.classList.add('fa')
        check.classList.add(`${( this.checked ? "fa-heart" : "fa-heart-o")}`)
        check.style.width = '11px'
        check.style.color = this.color
        this.domElement.appendChild(check)
        check.addEventListener('click', () => {
            this.setValue(!this.checked)
            this.dispatch("changed", this.checked)
        })
    }

    getValue() {
        return this.checked
    }
}


module.exports = {
    CustomCheckbox: CustomCheckbox
}