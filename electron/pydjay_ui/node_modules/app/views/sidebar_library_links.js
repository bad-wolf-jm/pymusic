const { DOMElement } = require("ui/dom/domelement.js")
const { BoxLayout } = require("ui/layout/box")
const { Label } = require("ui/dom/label")
class LinksList extends DOMElement {
    constructor(listController) {
        super('div')
        this.setStyle({height: "100%", position: 'relative'})
        this.listController = listController

        let item = new BoxLayout('horizontal', {left:15, padding:10})
        item.setStyle({width: "100%", height:"7px", position: "relative"})
        this.appendChild(item)


        this.addItem("fa-database", "All songs", () => {
            this.listController.display_all_songs()
        })

        this.addItem("fa-calendar", "Current session", () => {
            this.listController.display_current_session()
        })

        this.addItem("fa-smile-o", "Suggestions", () => {
            this.listController.display_suggestions()
        })

        this.addItem("fa-circle-o", "Short list", () => {
            this.listController.display_short_list()
        })

        this.addItem("fa-circle-o", "Played songs", () => {
            this.listController.display_played_tracks()
        })

        this.addItem("fa-circle-o", "Never played", () => {
            this.listController.display_never_played_tracks()
        })

        this.addItem("fa-circle-o", "Unavailable", () => {
            this.listController.display_unavailable()
        })

    }

    addItem(icon, text, action) {
        let item = new BoxLayout('horizontal', {left:15, padding:10})
        let iconElement = new DOMElement("i")
        iconElement.domElement.classList.add("fa")
        iconElement.domElement.classList.add(icon)
        iconElement.domElement.classList.add("list-icon")
        let label = new Label(text)
        let chevron = new DOMElement("i")
        chevron.domElement.classList.add("fa")
        chevron.domElement.classList.add('fa-angle-right')
        chevron.domElement.classList.add("arrow-icon")
        item.append(iconElement, false, true, 15)
        item.append(label, true, true)
        item.append(chevron, false, true, 15)
        item.setStyle({width: "100%", height:"20px", position: "relative"})
        item.domElement.addEventListener("click", () => {
            action()
        })
        this.appendChild(item)
    }
}

module.exports = {
    LinksList: LinksList
}