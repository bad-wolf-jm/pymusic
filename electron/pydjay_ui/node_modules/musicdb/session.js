const { TrackListModel } = require("./object_list.js")


class SessionModel extends TrackListModel {
    constructor(db, collection, id) {
        super(db, collection, id)
    }

    async getTracks() {
        let q = await this.getList()
        let tracks = await this.d.getTracksByIds(q.map((x) => {return x.track_id}))
        let x = {}
        tracks.forEach((t) => {x[t._id] = t})
        return q.map((t) => {return x[t.track_id]})
    }

    getElementById(id) {
        return this.d.getTrackById(id)
    }
}

module.exports = {
    SessionModel: SessionModel
}